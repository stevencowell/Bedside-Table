<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Bedside Table â€” Week 7</title>
  <style>
    body {font-family: Arial, sans-serif; line-height: 1.5; margin: 1rem 2rem;}
    fieldset {border: 1px solid #777; padding: 1rem;}
    legend   {padding: 0 .5rem;}
    .quiz-msg {margin-left: 1rem; font-weight: bold;}
    button.check-btn {margin-top: 1rem; padding: .4rem .8rem; cursor: pointer;}
  </style>
</head>
<body>
<details>
        <summary><strong>Week 7:</strong> Bandsaw SOP and Refinement of Mortise and Tenon Joints</summary>
        <article>
          <h4>Theory Content</h4>
          <p>In Week 7, you will concentrate on Standard Operating Procedures (SOP) for the bandsaw, ensuring the accurate and safe refinement of mortise and tenon joints. Mastery of these techniques is essential for high-quality joinery and woodworking excellence.</p>
          <h4>Bandsaw Standard Operating Procedures (SOP)</h4>
          <p>Following correct SOP is crucial for safe, precise, and effective use of the bandsaw:</p>
          <ul>
            <li><b>Pre-Use Checks:</b>
              <ul>
                <li>Confirm blade tension and sharpness.</li>
                <li>Verify safety guards and guides are correctly adjusted and securely fitted.</li>
              </ul>
            </li>
            <li><b>Operation Guidelines:</b>
              <ul>
                <li>Adjust the blade guide to sit just above the timber surface.</li>
                <li>Maintain consistent, moderate feeding speed to avoid blade drift.</li>
                <li>Avoid pushing too hard, which could lead to blade binding or inaccurate cuts.</li>
              </ul>
            </li>
            <li><b>Post-Use Checks:</b>
              <ul>
                <li>Clean the bandsaw thoroughly and inspect the blade for wear or damage.</li>
                <li>Report any abnormalities or issues immediately to your teacher.</li>
              </ul>
            </li>
          </ul>
          <h4>Refinement of Mortise and Tenon Joints</h4>
          <p>This stage is essential for achieving a high-quality final fit:</p>
          <ul>
            <li>Accurately check joint alignment and make precise minor adjustments as needed.</li>
            <li>Dry assemble the joints to test for perfect fitting.</li>
            <li>Fine-tune tenon dimensions carefully to ensure a snug, secure fit.</li>
          </ul>
          <h4>Practical Activity</h4>
          <ul>
            <li>Follow the bandsaw SOP carefully to finish cutting tenons.</li>
            <li>Check each mortise and tenon joint thoroughly, adjusting and refining as required.</li>
          </ul>
          <h4>Resources</h4>
          <div class="resource-links">
            <ul>
              <li><a href="https://www.youtube.com/watch?v=wGbZqWac0jU" target="_blank">Bandsaw Setup and SOP (YouTube)</a></li>
              <li><a href="https://www.popularwoodworking.com/techniques/mortise-tenon-joint-tips/" target="_blank">Mortise and Tenon Joint Adjustments</a></li>
            </ul>
          </div>
          <form class="quiz" data-week="7" id="week7-quiz" style="margin-top: 1.5rem;">
            <fieldset>
              <legend><strong>Have you been paying attention? â€“ Week 7 Quiz</strong></legend>
              <ol>
                <li>
                  <p>What is the primary reason for setting the bandsaw blade guide just above the timber height? <button aria-label="Read question aloud" onclick="event.preventDefault(); speakText(this)" type="button">ðŸ”Š</button></p>
                  <label><input name="q1_7" type="radio" value="Speed"/> To speed up the cutting process <button aria-label="Read answer To speed up the cutting process" onclick="event.preventDefault(); speakText(this)" type="button">ðŸ”Š</button></label><br/>
                  <label><input data-correct="true" name="q1_7" type="radio" value="Precision"/> To minimise blade deflection and enhance cutting precision <button aria-label="Read answer To minimise blade deflection and enhance cutting precision" onclick="event.preventDefault(); speakText(this)" type="button">ðŸ”Š</button></label><br/>
                  <label><input name="q1_7" type="radio" value="Wear"/> To reduce wear on the blade teeth <button aria-label="Read answer To reduce wear on the blade teeth" onclick="event.preventDefault(); speakText(this)" type="button">ðŸ”Š</button></label><br/>
                  <label><input name="q1_7" type="radio" value="Visibility"/> To improve visibility during operation <button aria-label="Read answer To improve visibility during operation" onclick="event.preventDefault(); speakText(this)" type="button">ðŸ”Š</button></label>
                </li>
                <li>
                  <p>After bandsaw use, why is a thorough inspection of the blade necessary? <button aria-label="Read question aloud" onclick="event.preventDefault(); speakText(this)" type="button">ðŸ”Š</button></p>
                  <label><input data-correct="true" name="q2_7" type="radio" value="Detect wear"/> To detect early signs of wear or damage that could compromise future cuts <button aria-label="Read answer To detect early signs of wear or damage that could compromise future cuts" onclick="event.preventDefault(); speakText(this)" type="button">ðŸ”Š</button></label><br/>
                  <label><input name="q2_7" type="radio" value="Speed"/> To ensure faster cutting speeds in the next session <button aria-label="Read answer To ensure faster cutting speeds in the next session" onclick="event.preventDefault(); speakText(this)" type="button">ðŸ”Š</button></label><br/>
                  <label><input name="q2_7" type="radio" value="Rules"/> Because it is required by workshop rules <button aria-label="Read answer Because it is required by workshop rules" onclick="event.preventDefault(); speakText(this)" type="button">ðŸ”Š</button></label><br/>
                  <label><input name="q2_7" type="radio" value="Timber"/> To verify that the timber used was suitable <button aria-label="Read answer To verify that the timber used was suitable" onclick="event.preventDefault(); speakText(this)" type="button">ðŸ”Š</button></label>
                </li>
                <li>
                  <p>If the bandsaw blade begins to drift during a cut, what is the most likely cause? <button aria-label="Read question aloud" onclick="event.preventDefault(); speakText(this)" type="button">ðŸ”Š</button></p>
                  <label><input name="q3_7" type="radio" value="Thick"/> Timber is too thick <button aria-label="Read answer Timber is too thick" onclick="event.preventDefault(); speakText(this)" type="button">ðŸ”Š</button></label><br/>
                  <label><input name="q3_7" type="radio" value="Hard"/> Timber is too hard <button aria-label="Read answer Timber is too hard" onclick="event.preventDefault(); speakText(this)" type="button">ðŸ”Š</button></label><br/>
                  <label><input data-correct="true" name="q3_7" type="radio" value="Tension"/> Blade tension is incorrect or the blade is dull <button aria-label="Read answer Blade tension is incorrect or the blade is dull" onclick="event.preventDefault(); speakText(this)" type="button">ðŸ”Š</button></label><br/>
                  <label><input name="q3_7" type="radio" value="Marked"/> Timber is incorrectly marked <button aria-label="Read answer Timber is incorrectly marked" onclick="event.preventDefault(); speakText(this)" type="button">ðŸ”Š</button></label>
                </li>
                <li>
                  <p>Why is it important to dry assemble mortise and tenon joints before gluing? <button aria-label="Read question aloud" onclick="event.preventDefault(); speakText(this)" type="button">ðŸ”Š</button></p>
                  <label><input name="q4_7" type="radio" value="Save glue"/> To save glue <button aria-label="Read answer To save glue" onclick="event.preventDefault(); speakText(this)" type="button">ðŸ”Š</button></label><br/>
                  <label><input data-correct="true" name="q4_7" type="radio" value="Accurate"/> To ensure accurate fitting and make precise adjustments <button aria-label="Read answer To ensure accurate fitting and make precise adjustments" onclick="event.preventDefault(); speakText(this)" type="button">ðŸ”Š</button></label><br/>
                  <label><input name="q4_7" type="radio" value="Faster"/> To complete the assembly faster <button aria-label="Read answer To complete the assembly faster" onclick="event.preventDefault(); speakText(this)" type="button">ðŸ”Š</button></label><br/>
                  <label><input name="q4_7" type="radio" value="Assess"/> To assess timber quality <button aria-label="Read answer To assess timber quality" onclick="event.preventDefault(); speakText(this)" type="button">ðŸ”Š</button></label>
                </li>
                <li>
                  <p>What immediate action should be taken if unusual vibrations occur during bandsaw operation? <button aria-label="Read question aloud" onclick="event.preventDefault(); speakText(this)" type="button">ðŸ”Š</button></p>
                  <label><input name="q5_7" type="radio" value="Cautious"/> Continue cautiously to identify the issue <button aria-label="Read answer Continue cautiously to identify the issue" onclick="event.preventDefault(); speakText(this)" type="button">ðŸ”Š</button></label><br/>
                  <label><input data-correct="true" name="q5_7" type="radio" value="Stop"/> Stop immediately and inspect the bandsaw <button aria-label="Read answer Stop immediately and inspect the bandsaw" onclick="event.preventDefault(); speakText(this)" type="button">ðŸ”Š</button></label><br/>
                  <label><input name="q5_7" type="radio" value="Slow"/> Slow down the feed rate <button aria-label="Read answer Slow down the feed rate" onclick="event.preventDefault(); speakText(this)" type="button">ðŸ”Š</button></label><br/>
                  <label><input name="q5_7" type="radio" value="Tension"/> Increase blade tension <button aria-label="Read answer Increase blade tension" onclick="event.preventDefault(); speakText(this)" type="button">ðŸ”Š</button></label>
                </li>
                <li>
                  <p>Why is maintaining a consistent feed rate essential when operating the bandsaw? <button aria-label="Read question aloud" onclick="event.preventDefault(); speakText(this)" type="button">ðŸ”Š</button></p>
                  <label><input name="q6_7" type="radio" value="Electricity"/> It reduces electricity usage <button aria-label="Read answer It reduces electricity usage" onclick="event.preventDefault(); speakText(this)" type="button">ðŸ”Š</button></label><br/>
                  <label><input name="q6_7" type="radio" value="Timber lifespan"/> It increases the lifespan of the timber <button aria-label="Read answer It increases the lifespan of the timber" onclick="event.preventDefault(); speakText(this)" type="button">ðŸ”Š</button></label><br/>
                  <label><input data-correct="true" name="q6_7" type="radio" value="Prevents binding"/> It prevents blade binding and produces clean, accurate cuts <button aria-label="Read answer It prevents blade binding and produces clean, accurate cuts" onclick="event.preventDefault(); speakText(this)" type="button">ðŸ”Š</button></label><br/>
                  <label><input name="q6_7" type="radio" value="Noise"/> It decreases noise levels <button aria-label="Read answer It decreases noise levels" onclick="event.preventDefault(); speakText(this)" type="button">ðŸ”Š</button></label>
                </li>
                <li>
                  <p>How should minor adjustments to tenons be made to achieve a perfect joint fit? <button aria-label="Read question aloud" onclick="event.preventDefault(); speakText(this)" type="button">ðŸ”Š</button></p>
                  <label><input name="q7_7" type="radio" value="Sanding"/> Use rough sanding <button aria-label="Read answer Use rough sanding" onclick="event.preventDefault(); speakText(this)" type="button">ðŸ”Š</button></label><br/>
                  <label><input data-correct="true" name="q7_7" type="radio" value="Hand tools"/> Carefully use hand tools to remove minimal material <button aria-label="Read answer Carefully use hand tools to remove minimal material" onclick="event.preventDefault(); speakText(this)" type="button">ðŸ”Š</button></label><br/>
                  <label><input name="q7_7" type="radio" value="Force"/> Force-fit the tenon <button aria-label="Read answer Force-fit the tenon" onclick="event.preventDefault(); speakText(this)" type="button">ðŸ”Š</button></label><br/>
                  <label><input name="q7_7" type="radio" value="New"/> Cut a completely new tenon <button aria-label="Read answer Cut a completely new tenon" onclick="event.preventDefault(); speakText(this)" type="button">ðŸ”Š</button></label>
                </li>
                <li>
                  <p>Which of these best explains the importance of correct blade tension on a bandsaw? <button aria-label="Read question aloud" onclick="event.preventDefault(); speakText(this)" type="button">ðŸ”Š</button></p>
                  <label><input data-correct="true" name="q8_7" type="radio" value="Accurate"/> It ensures accurate and efficient cutting without blade drift <button aria-label="Read answer It ensures accurate and efficient cutting without blade drift" onclick="event.preventDefault(); speakText(this)" type="button">ðŸ”Š</button></label><br/>
                  <label><input name="q8_7" type="radio" value="PPE"/> It reduces the need for PPE <button aria-label="Read answer It reduces the need for PPE" onclick="event.preventDefault(); speakText(this)" type="button">ðŸ”Š</button></label><br/>
                  <label><input name="q8_7" type="radio" value="Overheat"/> It helps to prevent machine overheating <button aria-label="Read answer It helps to prevent machine overheating" onclick="event.preventDefault(); speakText(this)" type="button">ðŸ”Š</button></label><br/>
                  <label><input name="q8_7" type="radio" value="Timber life"/> It significantly extends the timber life <button aria-label="Read answer It significantly extends the timber life" onclick="event.preventDefault(); speakText(this)" type="button">ðŸ”Š</button></label>
                </li>
                <li>
                  <p>What is the ideal outcome of a properly executed mortise and tenon joint? <button aria-label="Read question aloud" onclick="event.preventDefault(); speakText(this)" type="button">ðŸ”Š</button></p>
                  <label><input name="q9_7" type="radio" value="Loose"/> A loose joint for easy disassembly <button aria-label="Read answer A loose joint for easy disassembly" onclick="event.preventDefault(); speakText(this)" type="button">ðŸ”Š</button></label><br/>
                  <label><input data-correct="true" name="q9_7" type="radio" value="Snug"/> A snug, secure joint providing strong structural integrity <button aria-label="Read answer A snug, secure joint providing strong structural integrity" onclick="event.preventDefault(); speakText(this)" type="button">ðŸ”Š</button></label><br/>
                  <label><input name="q9_7" type="radio" value="Gaps"/> Visible gaps to allow glue application <button aria-label="Read answer Visible gaps to allow glue application" onclick="event.preventDefault(); speakText(this)" type="button">ðŸ”Š</button></label><br/>
                  <label><input name="q9_7" type="radio" value="Quick"/> Quick and easy assembly without testing <button aria-label="Read answer Quick and easy assembly without testing" onclick="event.preventDefault(); speakText(this)" type="button">ðŸ”Š</button></label>
                </li>
                <li>
                  <p>Before operating the bandsaw, what is crucial to check apart from blade tension and sharpness? <button aria-label="Read question aloud" onclick="event.preventDefault(); speakText(this)" type="button">ðŸ”Š</button></p>
                  <label><input name="q10_7" type="radio" value="Colour"/> Timber colour <button aria-label="Read answer Timber colour" onclick="event.preventDefault(); speakText(this)" type="button">ðŸ”Š</button></label><br/>
                  <label><input name="q10_7" type="radio" value="Speed"/> The speed of the blade <button aria-label="Read answer The speed of the blade" onclick="event.preventDefault(); speakText(this)" type="button">ðŸ”Š</button></label><br/>
                  <label><input data-correct="true" name="q10_7" type="radio" value="Guards"/> Proper adjustment and security of safety guards and guides <button aria-label="Read answer Proper adjustment and security of safety guards and guides" onclick="event.preventDefault(); speakText(this)" type="button">ðŸ”Š</button></label><br/>
                  <label><input name="q10_7" type="radio" value="Length"/> Timber length <button aria-label="Read answer Timber length" onclick="event.preventDefault(); speakText(this)" type="button">ðŸ”Š</button></label>
                </li>
              </ol>
              <button class="check-btn" type="button" onclick="submitQuiz(this, 'bedside-week7')">Check answers</button>
              <span class="quiz-msg" id="week7-quiz-msg"></span>
            </fieldset>
          </form>
          <h4>Conclusion</h4>
          <p>Applying these SOP steps and refining joints meticulously will result in safe operations and superior joinery.</p>
        </article>
      </details>
</main>

<!-- Popup for results -->
<div id="resultPopup" class="popup-overlay" role="dialog" aria-modal="true">
  <div class="popup-box">
    <button class="close-popup" aria-label="Close">&times;</button>
    <h3>Results Submitted</h3>
    <p>You can now visit Google Classroom to record your work.</p>
    <!-- STAFF: Replace href with the project link when available -->
    <a id="popupClassroomLink" href="#" target="_blank">Open Google Classroom</a>
  </div>
</div>

<!-- Popup for entering name -->
<div id="namePopup" class="popup-overlay" role="dialog" aria-modal="true">
  <div class="popup-box">
    <label for="studentName"><b>Please enter your name:</b></label><br/>
    <input type="text" id="studentName" style="margin-top:10px; padding:8px; width:95%;" />
    <button id="submitNameBtn" style="margin-top:10px;">Submit</button>
  </div>
</div>

<script>
    // Script for handling navigation link clicks and toggling active sections
    document.addEventListener('DOMContentLoaded', () => {
        const navLinks = document.querySelectorAll('.nav-link');
        const sections = document.querySelectorAll('.content-section');

        // Function to set the active section based on URL hash or default
        function setActiveSection() {
            let targetID = window.location.hash.substring(1) || 'program';
            if (!document.getElementById(targetID)) {
                targetID = 'program';
            }

            navLinks.forEach(nav => {
                nav.classList.remove('active');
                if (nav.getAttribute('data-section') === targetID) {
                    nav.classList.add('active');
                }
            });
            sections.forEach(sec => {
                sec.classList.remove('active');
                if (sec.id === targetID) {
                    sec.classList.add('active');
                }
            });
        }

        // Set active section on page load
        setActiveSection();

        // Add click event listeners to navigation links
        navLinks.forEach(link => {
            link.addEventListener('click', (e) => {
                e.preventDefault();
                const targetID = link.getAttribute('data-section');
                window.location.hash = targetID;

                navLinks.forEach(nav => nav.classList.remove('active'));
                sections.forEach(sec => sec.classList.remove('active'));

                link.classList.add('active');
                const targetSection = document.getElementById(targetID);
                if (targetSection) {
                    targetSection.classList.add('active');
                    targetSection.scrollIntoView({ behavior: 'smooth', block: 'start' });
                }
            });
        });

        // Listen for hash changes (e.g., browser back/forward buttons)
        window.addEventListener('hashchange', setActiveSection);
    });
</script>
<script>
const SCRIPT_URL = "https://script.google.com/macros/s/AKfycbwTomPeDrZ-vDZyEC72wXeoeFpro0Z8zCD2OfgL9HxY7nBsokoieXxy4sT3n_O4x3iqhg/exec";
const CLASSROOM_LINK = "https://classroom.google.com/w/NzQ5MDQxMzk4MjAz/t/all"; // STAFF: Replace with your Google Classroom link

// Voice setup for text-to-speech
const synth = window.speechSynthesis;
let voices = [];
synth.onvoiceschanged = () => { voices = synth.getVoices(); };

function speakText(btn) {
  let text = '';
  if (btn.dataset.text) {
    text = btn.dataset.text;
  } else {
    const p = btn.closest('p');
    if (p) {
      text = Array.from(p.childNodes)
        .filter(n => n.nodeType === Node.TEXT_NODE)
        .map(n => n.textContent.trim())
        .join(' ');
    } else {
      const lbl = btn.closest('label');
      text = Array.from(lbl.childNodes)
        .filter(n => n.nodeType === Node.TEXT_NODE)
        .map(n => n.textContent.trim())
        .filter(t => t.length)
        .join(' ');
    }
  }
  if (!voices.length) voices = synth.getVoices();
  const utt = new SpeechSynthesisUtterance(text);
  utt.voice = voices.find(v => v.name === 'Google UK English Female')
             || voices.find(v => /Natural/.test(v.name))
             || voices[0];
  synth.speak(utt);
}

function showResultPopup(url) {
  const overlay = document.getElementById('resultPopup');
  const link = document.getElementById('popupClassroomLink');
  if (link) link.href = url || '#';
  if (overlay) overlay.classList.add('active');
}

function askForName() {
  return new Promise(resolve => {
    const overlay = document.getElementById('namePopup');
    const input = document.getElementById('studentName');
    const btn = document.getElementById('submitNameBtn');
    if (!overlay || !input || !btn) { resolve(''); return; }
    overlay.classList.add('active');
    btn.onclick = () => {
      const name = input.value.trim();
      if (!name) return;
      overlay.classList.remove('active');
      resolve(name);
    };
  });
}

document.addEventListener('DOMContentLoaded', () => {
  const closeBtn = document.querySelector('#resultPopup .close-popup');
  if (closeBtn) {
    closeBtn.addEventListener('click', () => {
      document.getElementById('resultPopup').classList.remove('active');
    });
  }
});

function submitQuiz(btn, quizType) {
  const form = btn.closest('form');
  const fieldset = form.querySelector('fieldset');
  let correct = 0, total = 0;
  const results = [];
  fieldset.querySelectorAll('li').forEach((li, idx) => {
    const radios = li.querySelectorAll('input[type=radio]');
    let userCorrect = false, answered = false;
    radios.forEach(radio => {
      if (radio.checked) {
        answered = true;
        if (radio.hasAttribute('data-correct')) userCorrect = true;
      }
      // Reset label
      radio.parentElement.removeAttribute('data-result');
    });
    total += 1;
    // Mark right/wrong visually
    radios.forEach(radio => {
      if (radio.checked) {
        radio.parentElement.setAttribute('data-result', userCorrect ? "right" : "wrong");
      }
    });
    if (userCorrect) correct += 1;
    results.push({
      question: li.querySelector('p').textContent,
      answer: Array.from(radios).find(r => r.checked)?.value || ''
    });
  });
  // Show feedback
  let msg = `You got ${correct} out of ${total} correct.`;
  form.querySelector('.quiz-msg').textContent = msg;

  askForName().then(name => {
    fetch(SCRIPT_URL, {
      method: "POST",
      mode: "cors",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({
        quizType,
        quiz: results,
        score: correct + "/" + total,
        studentName: name,
        timestamp: new Date().toISOString()
      })
    });
    showResultPopup(CLASSROOM_LINK);
  });
}

function submitAdvancedQuiz(btn, quizType) {
  const form = btn.closest('form');
  const textareas = form.querySelectorAll('textarea');
  const responses = [];
  textareas.forEach((ta) => {
    responses.push({
      question: ta.closest('li').querySelector('p').textContent,
      answer: ta.value.trim()
    });
  });

  const studentName = prompt('Please enter your name to submit your answers:');
  if (!studentName) return;

  form.querySelector('.quiz-msg').textContent =
    'Responses submitted. Your teacher will review them.';

  fetch(SCRIPT_URL, {
    method: 'POST',
    mode: 'cors',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify({
      quizType,
      studentName: studentName.trim(),
      responses,
      timestamp: new Date().toISOString()
    })
  });
  showResultPopup(CLASSROOM_LINK);
}
</script>
</body>
</html>
